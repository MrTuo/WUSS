<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>
    <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <form action="/text/" method="post">
            <div class="form-group">
                <label class="sr-only">username</label>
{#                用户名输入框#}
                <input type="text" class="form-control" name="username" id="username"  placeholder="用户名"/>
            </div>
            <div class="form-group">
                <label class="sr-only">Password</label>
{#                密码输入框#}
                <input type="password" class="form-control" name="passwd" placeholder="密码"/>
            </div>
            <div class="form-group">
{#                登录按钮#}
                <input class="btn btn-primary" type="submit" value="登录">
            </div>
{#            通过模版语言的变量显示错误提示信息#}
            {{ error_info }}
        </form>
</div>
<script type="application/javascript" src="/static/js/jquery-3.1.1.min.js"></script>
<script type="application/javascript" src="/static/bootstrap/js/bootstrap.min.js"></script>
<script>
{#    根据<input>的id获取设定输入框焦点离开时的操作#}
    $('#username').blur(function(){
{#       获取用户输入的用户名 #}
       var input_name=$(this).val();
{#       调用ajax提交数据 #}
       $.ajax({
{#                指定提交的url#}
                url:"/text/",
{#                指定将获取的用户名提交给login()函数里的username变量用于验证#}
                data:{username:input_name},
{#                指定提交的数据的格式#}
                type:'POST',
{#                success用来接收login()函数执行之后的return HttpResponse返回值#}
                success:function(arg){
{#                    用arg接收到返回值后通过alert将返回的内容输出到页面上#}
                    alert(arg)
                }
            });
    });
</script>
</body>
</html>